<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highly Interactive Mental Health Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 50px;
            background-color: #f5f5f5;
        }
        canvas {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }
        #modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            color: white;
        }
        #modalContent {
            background-color: #333;
            padding: 20px;
            border-radius: 10px;
            width: 60%;
            text-align: center;
            max-height: 80%;
            overflow-y: auto;
        }
        #closeModal {
            background-color: rgb(245, 101, 154);
            padding: 10px;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        }
        .toggleButtons {
            margin-top: 20px;
        }
        .toggleButtons button {
            margin: 5px;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .toggleButtons button:hover {
            background-color: #9200b3;
        }
    </style>
</head>
<body>

    <h1>Mental Health Data</h1>
    <canvas id="mentalHealthChart" width="200" height="100"></canvas>
    <canvas id="pieChart" width="200" height="100"></canvas>

    <!-- Modal for Details -->
    <div id="modal">
        <div id="modalContent">
            <h2 id="modalTitle">Category Details</h2>
            <p id="modalText">Detailed mental health data will be shown here.</p>
            <button id="closeModal">Close</button>
        </div>
    </div>

    <!-- Toggle Buttons to Dynamically Show Data -->
    <div class="toggleButtons">
        <button id="maleData">Show Male Data</button>
        <button id="femaleData">Show Female Data</button>
        <button id="nonBinaryData">Show Non-binary Data</button>
        <button id="allData">Show All Data</button>
    </div>

    <script>
        const ctx = document.getElementById('mentalHealthChart').getContext('2d');
        const pieCtx = document.getElementById('pieChart').getContext('2d');

  
        const data = {
            labels: ['1990', '2001', '2010', '2020', '2025'], // Time periods
            datasets: [
                {
                    label: 'Male',
                    data: [15, 18, 22, 25, 30],
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1,
                    hidden: false
                },
                {
                    label: 'Female',
                    data: [20, 25, 30, 35, 40],
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1,
                    hidden: false
                },
                {
                    label: 'Non-binary',
                    data: [5, 7, 8, 12, 15],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1,
                    hidden: false
                }
            ]
        };

        const mentalHealthChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                onClick: (event, elements) => {
                    if (elements.length > 0) {
                        const chartElement = elements[0];
                        const year = mentalHealthChart.data.labels[chartElement.index];
                        // Show modal with detailed year data
                        showModal(year);
                    }
                },
                tooltips: {
                    callbacks: {
                        label: (tooltipItem) => {
                            const datasetLabel = tooltipItem.dataset.label;
                            const value = tooltipItem.raw;
                            return `${datasetLabel}: ${value} % (Year: ${tooltipItem.label})`;
                        }
                    }
                },
                animation: {
                    duration: 1000, // Adding smooth animation for transitions
                    easing: 'easeOutBounce',
                    onProgress: function(animation) {
                        const chartInstance = animation.chart;
                        const ctx = chartInstance.ctx;
                        const chartArea = chartInstance.chartArea;

                        ctx.save();
                        ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                        ctx.fillRect(chartArea.left, chartArea.top, chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
                        ctx.restore();
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            beginAtZero: true
                        }
                    }
                },
                responsive: true
            }
        });

       
        const pieData = {
            labels: ['Male', 'Female', 'Non-binary'],
            datasets: [{
                data: [15, 25, 7], // Initial data for pie chart
                backgroundColor: ['rgba(54, 162, 235, 0.5)', 'rgba(255, 99, 132, 0.5)', 'rgba(75, 192, 192, 0.5)'],
                borderColor: ['rgba(54, 162, 235, 1)', 'rgba(255, 99, 132, 1)', 'rgba(75, 192, 192, 1)'],
                borderWidth: 1
            }]
        };

        const pieChart = new Chart(pieCtx, {
            type: 'pie',
            data: pieData,
            options: {
                responsive: true,
                animation: {
                    duration: 1000, // Smooth animation for pie chart
                    easing: 'easeOutBounce'
                }
            }
        });

        
        function updatePieChart(category) {
            let categoryData = [0, 0, 0]; // Male, Female, Non-binary counts

            if (category === 'Male') {
                categoryData = [15, 0, 0];
            } else if (category === 'Female') {
                categoryData = [0, 25, 0];
            } else if (category === 'Non-binary') {
                categoryData = [0, 0, 7];
            } else if (category === 'All') {
                categoryData = [15, 25, 7]; // All data
            }

            pieChart.data.datasets[0].data = categoryData;
            pieChart.update();
        }

       
        document.getElementById('maleData').onclick = () => {
            updateChartData('Male');
            updatePieChart('Male');
        };
        document.getElementById('femaleData').onclick = () => {
            updateChartData('Female');
            updatePieChart('Female');
        };
        document.getElementById('nonBinaryData').onclick = () => {
            updateChartData('Non-binary');
            updatePieChart('Non-binary');
        };
        document.getElementById('allData').onclick = () => {
            updateChartData('All');
            updatePieChart('All');
        };

        
        function updateChartData(category) {
            if (category === 'All') {
                mentalHealthChart.data.datasets.forEach(dataset => {
                    dataset.hidden = false; // Show all datasets
                });
            } else {
                mentalHealthChart.data.datasets.forEach(dataset => {
                    dataset.hidden = dataset.label !== category; // Show only selected category
                });
            }
            mentalHealthChart.update(); // Update the bar chart with the new data
        }

        
        function showModal(year) {
            let details = '';
            if (year === '1990') {
                details = 'In 1990, approximately 350 million people worldwide were affected by mental health disorders, including depression, anxiety, and schizophrenia. Mental health was highly stigmatized, and access to care was extremely limited, especially in low-income countries. Many nations lacked proper mental health policies, leading to inadequate treatment options. The World Health Organization (WHO) and global researchers began pushing for greater awareness and policy changes to address these issues.';
            } else if (year === '2001') {
                details = 'By 2001, the number of people affected by mental health disorders had risen to 450 million. Advances in psychiatry and increased public awareness led to improved diagnosis rates, though stigma and financial constraints still prevented many from receiving treatment. The World Health Report 2001 emphasized mental health as a global priority, encouraging nations to integrate mental health care into their public health systems. Despite this, mental health funding remained low, and many communities still lacked adequate mental health services.';
            } else if (year === '2010') {
                details = 'In 2010, mental health remained a major global challenge, with around 450 million people affected. The rise of digital mental health tools, such as online therapy platforms and mental wellness apps, provided new ways for people to access support. However, access to mental health care was still unequal, particularly in developing nations where services were scarce. Suicide prevention campaigns and discussions around work-life balance became more prominent in mental health discourse. Governments and organizations began implementing workplace mental health programs, aiming to address stress and burnout.';
            } else if (year === '2020') {
                details = 'By 2020, the global number of individuals affected by mental health disorders exceeded 1 billion, marking a dramatic increase. The COVID-19 pandemic had a profound impact on mental health worldwide, leading to sharp increases in anxiety, depression, and stress-related disorders. Lockdowns, social isolation, and economic uncertainty contributed to deteriorating mental well-being. Governments and organizations expanded online therapy options, crisis helplines, and mental health hotlines to address the crisis. Many companies adopted remote work policies to help employees manage stress and mental fatigue.';
            } else if (year === '2025') {
                details = 'By 2025, the global mental health crisis has been a central issue in international public health. With continued growth in mental health challenges, organizations are emphasizing prevention strategies, including improved access to mental health care, stress management techniques, and workplace mental health programs. The global conversation around mental health has evolved, with policymakers, companies, and community organizations all working to break down stigmas and promote mental well-being as an essential part of life. Advances in AI and virtual mental health therapy are also playing an increasingly important role.';
            }

            document.getElementById('modalText').innerText = details;
            document.getElementById('modal').style.display = 'flex'; // Show the modal
        }

       
        document.getElementById('closeModal').onclick = () => {
            document.getElementById('modal').style.display = 'none';
        };

      
        document.getElementById('mentalHealthChart').addEventListener('mouseover', () => {
            document.getElementById('mentalHealthChart').style.transform = 'scale(1.05)';
        });
        document.getElementById('mentalHealthChart').addEventListener('mouseout', () => {
            document.getElementById('mentalHealthChart').style.transform = 'scale(1)';
        });
    </script>

</body>
</html>























